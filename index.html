<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Chile 24/7</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button id="toggleTheme" style="position:fixed;top:10px;right:10px;padding:8px 12px;border:none;border-radius:5px;background:#0077cc;color:white;cursor:pointer;">
        Cambiar tema
    </button>


    <div class="container">
        <div class="ads left">Anuncio Lateral</div>

        <div class="main-radio">
            <canvas id="radioDial"></canvas>
            <h2 id="radioName">Radio Chile</h2>
            <audio id="radioPlayer" controls autoplay>
                <source src="" type="audio/mpeg">
                Tu navegador no soporta audio.
            </audio>
            <button id="changeRadio">Girar Dial ðŸŽµ</button>
        </div>

        <div class="chat-container">
            <h3>Chat en vivo</h3>
            <div id="chatBox"></div>
            <input type="text" id="chatInput" placeholder="Escribe un mensaje...">
            <button id="sendChat">Enviar</button>
        </div>

        <div class="ads bottom">Anuncio Inferior</div>
    </div>

    <!-- Inicializar Firebase -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-analytics.js";
      import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";
      import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDTOjJGMavWosWKQAxi1LNDOWgdzpSv6-w",
        authDomain: "miradioweb-ab769.firebaseapp.com",
        databaseURL: "https://miradioweb-ab769-default-rtdb.firebaseio.com",
        projectId: "miradioweb-ab769",
        storageBucket: "miradioweb-ab769.firebasestorage.app",
        messagingSenderId: "763065724459",
        appId: "1:763065724459:web:acef207089498dca84846e",
        measurementId: "G-7H5PXZWCMY"
      };

      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      const auth = getAuth();
      const database = getDatabase(app);

      signInAnonymously(auth).catch(console.error);

      window.firebaseRefs = { ref, push, onChildAdded, database, auth };
    </script>

    <!-- CÃ³digo de la radio y chat -->
    <script src="script.js"></script>
</body>
</html>
